package controller.robotTests.operationsTests;

import controller.sandBox.Clicker;
import controller.sandBox.TestingSandBox;
import org.junit.Test;

import java.awt.*;

public class Percent extends TestingSandBox {
    Clicker clicker;

    public Percent() throws AWTException {
        clicker = new Clicker();
    }

    @Test
    public void simpleScenarios() {
        test("5 + 1 % =", "5,05", "5 + 0,05 = ");
        test("5 - 3 % =", "4,85", "5 - 0,15 = ");
        test("1 + 4 % =", "1,04", "1 + 0,04 = ");
        test("1 - 9 % =", "0,91", "1 - 0,09 = ");
        test("10 + 5 % =", "10,5", "10 + 0,5 = ");
        test("5 - 8 % =", "4,6", "5 - 0,4 = ");
        test("9 + 5 % =", "9,45", "9 + 0,45 = ");
        test("3 - 1 % =", "2,97", "3 - 0,03 = ");
        test("4 + 1 % =", "4,04", "4 + 0,04 = ");
        test("9 - 10 % =", "8,1", "9 - 0,9 = ");
        test("6 + 85 % =", "11,1", "6 + 5,1 = ");
        test("56 + 7 % =", "59,92", "56 + 3,92 = ");
        test("79 + 16 % =", "91,64", "79 + 12,64 = ");
        test("69 + 43 % =", "98,67", "69 + 29,67 = ");
        test("83 + 71 % =", "141,93", "83 + 58,93 = ");
        test("97 - 60 % =", "38,8", "97 - 58,2 = ");
        test("76 - 35 % =", "49,4", "76 - 26,6 = ");
        test("94 - 28 % =", "67,68", "94 - 26,32 = ");
        test("99 - 58 % =", "41,58", "99 - 57,42 = ");
        test("10 - 68 % =", "3,2", "10 - 6,8 = ");
        test("0,87 + 0,14 % =", "0,871218", "0,87 + 0,001218 = ");
        test("1,6 + 70 plusMinus % =", "0,48", "1,6 + -1,12 = ");
        test("2,9 + 0,5 % =", "2,9145", "2,9 + 0,0145 = ");
        test("0,83 + 0,73 % =", "0,836059", "0,83 + 0,006059 = ");
        test("0,26 + 0,13 % =", "0,260338", "0,26 + 0,000338 = ");
        test("90 plusMinus - 8,1 % =", "-82,71", "-90 - -7,29 = ");
        test("1,5 - 3,8 % =", "1,443", "1,5 - 0,057 = ");
        test("2,1 - 0,4 % =", "2,0916", "2,1 - 0,0084 = ");
        test("0,42 - 0,32 % =", "0,418656", "0,42 - 0,001344 = ");
        test("7,9 - 0,99 % =", "7,82179", "7,9 - 0,07821 = ");
        test("5 * 1 % =", "0,05", "5 × 0,01 = ");
        test("5 / 3 % =", "166,6666666666667", "5 ÷ 0,03 = ");
        test("1 * 4 % =", "0,04", "1 × 0,04 = ");
        test("1 / 9 % =", "11,11111111111111", "1 ÷ 0,09 = ");
        test("10 * 5 % =", "0,5", "10 × 0,05 = ");
        test("5 / 8 % =", "62,5", "5 ÷ 0,08 = ");
        test("9 * 5 % =", "0,45", "9 × 0,05 = ");
        test("3 / 1 % =", "300", "3 ÷ 0,01 = ");
        test("4 * 1 % =", "0,04", "4 × 0,01 = ");
        test("9 / 10 % =", "90", "9 ÷ 0,1 = ");
        test("6 * 85 % =", "5,1", "6 × 0,85 = ");
        test("56 * 7 % =", "3,92", "56 × 0,07 = ");
        test("79 * 16 % =", "12,64", "79 × 0,16 = ");
        test("69 * 43 % =", "29,67", "69 × 0,43 = ");
        test("83 * 71 % =", "58,93", "83 × 0,71 = ");
        test("97 / 60 % =", "161,6666666666667", "97 ÷ 0,6 = ");
        test("76 / 35 % =", "217,1428571428571", "76 ÷ 0,35 = ");
        test("94 / 28 % =", "335,7142857142857", "94 ÷ 0,28 = ");
        test("99 / 58 % =", "170,6896551724138", "99 ÷ 0,58 = ");
        test("10 / 68 % =", "14,70588235294118", "10 ÷ 0,68 = ");
        test("0,87 * 0,14 % =", "0,001218", "0,87 × 0,0014 = ");
        test("1,6 * 70 plusMinus % =", "-1,12", "1,6 × -0,7 = ");
        test("2,9 * 0,5 % =", "0,0145", "2,9 × 0,005 = ");
        test("0,83 * 0,73 % =", "0,006059", "0,83 × 0,0073 = ");
        test("0,26 * 0,13 % =", "0,000338", "0,26 × 0,0013 = ");
        test("1,5 / 3,8 % =", "39,47368421052632", "1,5 ÷ 0,038 = ");
        test("2,1 / 0,4 % =", "525", "2,1 ÷ 0,004 = ");
        test("0,42 / 0,32 % =", "131,25", "0,42 ÷ 0,0032 = ");
        test("7,9 / 0,99 % =", "797,979797979798", "7,9 ÷ 0,0099 = ");
    }

    @Test
    public void subjectAreaScenarios() {
        test("42 / 17 % =", "247,0588235294118", "42 ÷ 0,17 = ");
        test("50,6 + 1,14 % =", "51,17684", "50,6 + 0,57684 = ");
        test("4,2 + 534 % =", "26,628", "4,2 + 22,428 = ");
        test("229 + 8,31 % =", "248,0299", "229 + 19,0299 = ");
        test("29,4 - 0,244 % =", "29,328264", "29,4 - 0,071736 = ");
        test("5,57 - 0,585 % =", "5,5374155", "5,57 - 0,0325845 = ");
        test("194 - 108 % =", "-15,52", "194 - 209,52 = ");
        test("286 - 385 % =", "-815,1", "286 - 1101,1 = ");
        test("198 - 798 % =", "-1 382,04", "198 - 1580,04 = ");
        test("147 - 29 % =", "104,37", "147 - 42,63 = ");
        test("513 - 936 % =", "-4 288,68", "513 - 4801,68 = ");
        test("42 + 17 % =", "49,14", "42 + 7,14 = ");
        test("347 + 802 % =", "3 129,94", "347 + 2782,94 = ");
        test("0,24 * 2,4 % =", "0,00576", "0,24 × 0,024 = ");
        test("89 + 63 % =", "145,07", "89 + 56,07 = ");
        test("229 + 370 % =", "1 076,3", "229 + 847,3 = ");
        test("52 + 472 % =", "297,44", "52 + 245,44 = ");
        test("966 + 133 % =", "2 250,78", "966 + 1284,78 = ");
        test("2 + 2 % =", "2,04", "2 + 0,04 = ");
        test("12 - 24 % =", "9,12", "12 - 2,88 = ");
        test("50,6 * 1,14 % =", "0,57684", "50,6 × 0,0114 = ");
        test("4,2 * 534 % =", "22,428", "4,2 × 5,34 = ");
        test("229 * 8,31 % =", "19,0299", "229 × 0,0831 = ");
        test("1,49 * 223 % =", "3,3227", "1,49 × 2,23 = ");
        test("795 * 2,19 % =", "17,4105", "795 × 0,0219 = ");
        test("8,08 / 441 % =", "1,832199546485261", "8,08 ÷ 4,41 = ");
        test("0,66 / 3,84 % =", "17,1875", "0,66 ÷ 0,0384 = ");
        test("29,4 / 0,244 % =", "12 049,18032786885", "29,4 ÷ 0,00244 = ");
        test("5,57 / 0,585 % =", "952,1367521367521", "5,57 ÷ 0,00585 = ");
        test("4,73 / 6,2 % =", "76,29032258064516", "4,73 ÷ 0,062 = ");
        test("194 / 108 % =", "179,6296296296296", "194 ÷ 1,08 = ");
        test("286 / 385 % =", "74,28571428571429", "286 ÷ 3,85 = ");
        test("198 / 798 % =", "24,81203007518797", "198 ÷ 7,98 = ");
        test("147 / 29 % =", "506,8965517241379", "147 ÷ 0,29 = ");
        test("513 / 936 % =", "54,80769230769231", "513 ÷ 9,36 = ");
        test("347 * 802 % =", "2 782,94", "347 × 8,02 = ");
        test("89 * 63 % =", "56,07", "89 × 0,63 = ");
        test("229 * 370 % =", "847,3", "229 × 3,7 = ");
        test("52 * 472 % =", "245,44", "52 × 4,72 = ");
        test("966 * 133 % =", "1 284,78", "966 × 1,33 = ");
        test("2 * 2 % =", "0,04", "2 × 0,02 = ");
        test("12 / 24 % =", "50", "12 ÷ 0,24 = ");
        test("300 / % =", "100", "300 ÷ 3 = ");
        test("123 + 124 % =", "275,52", "123 + 152,52 = ");
        test("0,24 + 2,4 % =", "0,24576", "0,24 + 0,00576 = ");
        test("4,73 - 6,2 % =", "4,43674", "4,73 - 0,29326 = ");
        test("42 - 17 % =", "34,86", "42 - 7,14 = ");
        test("123 - 124 % =", "-29,52", "123 - 152,52 = ");
        test("0,24 - 2,4 % =", "0,23424", "0,24 - 0,00576 = ");
        test("1,49 + 223 % =", "4,8127", "1,49 + 3,3227 = ");
        test("795 + 2,19 % =", "812,4105", "795 + 17,4105 = ");
        test("8,08 - 441 % =", "-27,5528", "8,08 - 35,6328 = ");
        test("0,66 - 3,84 % =", "0,634656", "0,66 - 0,025344 = ");
        test("123 / 124 % =", "99,19354838709677", "123 ÷ 1,24 = ");
        test("0,24 / 2,4 % =", "10", "0,24 ÷ 0,024 = ");
        test("42 * 17 % =", "7,14", "42 × 0,17 = ");
        test("123 * 124 % =", "152,52", "123 × 1,24 = ");
        test("300 - % =", "-600", "300 - 900 = ");
    }

    @Test
    public void randomPercentScenarios() {
        test("8675868748585695 + 8675867466869574 % =", "7,527068742268594e+29", "8675868748585695 + 7,527068742268507e+29 = ");
        test("29584575854831 - 8756475847366288 % =", "-2,590566239274005e+27", "29584575854831 - 2,590566239274035e+27 = ");
        test("586754,694885754 + 4332,467764566544 % =", "26 007 712,70789183", "586754,694885754 + 25420958,01300607 = ");
        test("76334533443,55675 - 76545,564321145645 % =", "-58 354 364 862 840,61", "76334533443,55675 - 58430699396284,16 = ");
        test("7654,655436755676 + 675445665432,5775 % =", "51 703 038 359 020", "7654,655436755676 + 51703038351365,35 = ");
        test("8675847666635278 * 9686758574857598 % =", "8,404084177893756e+29", "8675847666635278 × 96867585748575,98 = ");
        test("96867583738894 / 8748593983776289 % =", "1,107236018936629", "96867583738894 ÷ 87485939837762,89 = ");
        test("869796,5867585844 * 4554,566435676543 % =", "39 615 463,39916669", "869796,5867585844 × 45,54566435676543 = ");
        test("99687584657584944 / 16394,44527286028 % =", "60 805 707 664 052,49", "9968758465758494 ÷ 163,9444527286028 = ");
        test("4352,445453667765 * 968685746375,3565 % =", "42 161 518 728 441,86", "4352,445453667765 × 9686857463,753565 = ");
        test("2804283685904262 + 3770050392348772 % =", "1,05722908103009e+29", "2804283685904262 + 1,057229081030062e+29 = ");
        test("15216056106784 - 1139097799493685 % =", "-1,733257602820858e+26", "15216056106784 - 1,73325760282101e+26 = ");
        test("862069,2202713910 + 7233,425940889578 % =", "63 219 207,8278067", "862069,220271391 + 62357138,60753531 = ");
        test("18650523300,05526 - 16394,44527286028 % =", "-3 038 999 312 229,559", "18650523300,05526 - 3057649835529,615 = ");
        test("5417,612255374980 + 492115243664,6449 % =", "26 660 895 756 761,86", "5417,61225537498 + 26660895751344,25 = ");
        test("2804283685904262 * 3770050392348772 % =", "1,057229081030062e+29", "2804283685904262 × 37700503923487,72 = ");
        test("15216056106784 / 1139097799493685 % =", "1,335798920298797", "15216056106784 ÷ 11390977994936,85 = ");
        test("862069,2202713910 * 7233,425940889578 % =", "62 357 138,60753531", "862069,220271391 × 72,33425940889578 = ");
        test("18650523300,05526 / 16394,44527286028 % =", "113 761 234,3061692", "18650523300,05526 ÷ 163,9444527286028 = ");
        test("5417,612255374980 * 492115243664,6449 % =", "26 660 895 751 344,25", "5417,61225537498 × 4921152436,646449 = ");
        test("4834958572392387 + 8429545546384839 % =", "4,075650350086593e+29", "4834958572392387 + 4,075650350086545e+29 = ");
        test("86238492834483 - 4684483928345856 % =", "-4,039828336878963e+27", "86238492834483 - 4,039828336879049e+27 = ");
        test("865234,849982347 + 8654,4829144252638 % =", "75 746 837,11135762", "865234,849982347 + 74881602,26137528 = ");
        test("64588384998,48865 - 54665,448382938748 % =", "-35 242 941 877 724,07", "64588384998,48865 - 35307530262722,56 = ");
        test("4565,462638483829 + 215484862837,4382 % =", "9 837 880 908 996,829", "4565,462638483829 + 9837880904431,366 = ");
        test("1827392837453443 * 8292634844314242 % =", "1,515390151811669e+29", "1827392837453443 × 82926348443142,42 = ");
        test("62839243233213 / 8464834252638415 % =", "0,7423564520903236", "62839243233213 ÷ 84648342526384,15 = ");
        test("6558392,684354837 * 56873,23456758292 % =", "3 729 970 055,236325", "6558392,684354837 × 568,7323456758292 = ");
        test("56848987954621254 / 42341,23444588927 % =", "13 426 388 885 112,08", "5684898795462125 ÷ 423,4123444588927 = ");
        test("5687,485766152344 * 5487483927582,234 % =", "312 099 867 301 137,2", "5687,485766152344 × 54874839275,82234 = ");
    }

    @Test
    public void formatterPercentScenarios() {
        test("42 / 17 %", "0,17", "42 ÷ 0,17");
        test("123 * 124 %", "1,24", "123 × 1,24");
        test("42 - 17 %", "7,14", "42 - 7,14");
        test("42 + 17 %", "7,14", "42 + 7,14");
        test("123 + 124 %", "152,52", "123 + 152,52");
        test("0,24 + 2,4 %", "0,00576", "0,24 + 0,00576");
        test("123 - 124 %", "152,52", "123 - 152,52");
        test("0,24 - 2,4 %", "0,00576", "0,24 - 0,00576");
        test("123 / 124 %", "1,24", "123 ÷ 1,24");
        test("0,24 / 2,4 %", "0,024", "0,24 ÷ 0,024");
        test("42 * 17 %", "0,17", "42 × 0,17");
        test("0,24 * 2,4 %", "0,024", "0,24 × 0,024");
    }

    public void test(String expression, String mainLabelExcepted, String historyLabelExcepted) {
        clicker.clickExpression(expression);
        mainLabelAndHistoryTest(mainLabelExcepted, historyLabelExcepted);
    }
}
